<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Site da Empatia</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Lora:ital,wght@0,400..700;1,400..700&family=Scada:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    body {
      background: url('https://images.unsplash.com/photo-1428908728789-d2de25dbd4e2?q=80&w=870&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center fixed;
      background-size: cover;
      color: #EAEAEA;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      width: 100vw;
      overflow-x: hidden;
    }

    main {
      max-width: 600px;
      width: 100%;
      padding: 20px;
      margin: 0 auto; /* centraliza todo o conteúdo */
      box-sizing: border-box;
    }

    .card {
      background-color: rgba(250, 247, 255, 0.199); /* menor opacidade */
      padding: 32px 26px; /* aumentado */
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      margin: 0 auto 20px auto; /* centraliza horizontalmente */
      backdrop-filter: blur(10px);
      color: #444444; /* fonte das mensagens em cinza */
      width: 100%;
      max-width: 440px; /* aumentado */
      box-sizing: border-box; /* garante que padding não estoure o card */
    }

    textarea {
      width: 100%;
      height: 90px; /* aumentado */
      padding: 12px; /* aumentado */
      font-size: 1em;
      border-radius: 8px;
      border: 1px solid #cccccc;
      resize: none;
      margin-bottom: 10px;
      box-sizing: border-box; /* garante padding interno */
      background: rgba(255, 255, 255, 0); /* menor opacidade */
      color: #222222;
      outline: none; /* remove a borda preta ao focar */
    }
    
    button {
      background-color: transparent;
      color: #2F3542;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: bold;
    }

    button:hover {
      background-color: rgb(197, 237, 247); /* leve destaque ao passar o mouse */
    }

    h2 {
      font-family: 'Lora', 'Lato', 'Scada', sans-serif;
      color: #424242;
    }

    @media (max-width: 600px) {
      html, body {
        width: 100vw;
        min-width: 0;
        max-width: 100vw;
        overflow-x: hidden;
      }
      main {
        max-width: 100vw;
        width: 100vw;
        padding: 8px 0;
        margin: 0;
      }
      .card {
        max-width: 98vw;
        width: 98vw;
        padding: 18px 2vw;
        font-size: 1em;
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
      }
      textarea {
        height: 70px;
        font-size: 1em;
        padding: 8px;
        box-sizing: border-box;
      }
      h2 {
        font-size: 1.1em;
      }
      #notificacao {
        font-size: 1em !important;
        padding: 10px 2vw !important;
        width: 90vw;
        min-width: unset;
        max-width: 95vw;
        box-sizing: border-box;
      }
    }
  </style>
</head>
<body>
  <main>
    <!-- Caixa de mensagem -->
    <div class="card">
      <h2>Escreva a sua mensagem de empatia:</h2>
      <textarea id="mensagem" placeholder="Fulano, você faz a diferença!"></textarea>
      <button onclick="postarMensagem()">Postar</button>
    </div>

    <!-- Notificação -->
    <div id="notificacao" style="display:none;position:fixed;top:30px;left:50%;transform:translateX(-50%);
    background:rgba(255,255,255,0.18); /* transparente */
    color:#444; /* cinza */
    padding:14px 32px;
    border-radius:8px;z-index:1000;
    font-family:'Lato',sans-serif;
    font-size:1.1em;
    box-shadow:0 2px 8px rgba(0,0,0,0.18);">
    </div>

    <!-- Feed -->
    <div id="feed"></div>
  </main>

  <script>
    function mostrarNotificacao(msg) {
      const n = document.getElementById('notificacao');
      n.innerText = msg;
      n.style.display = 'block';
      setTimeout(() => {
        n.style.display = 'none';
      }, 1800);
    }

    function salvarMensagens(mensagens) {
      localStorage.setItem('mensagensEmpatia', JSON.stringify(mensagens));
    }

    function carregarMensagens() {
      const data = localStorage.getItem('mensagensEmpatia');
      return data ? JSON.parse(data) : [];
    }

    function renderizarFeed(mensagens) {
      const feed = document.getElementById('feed');
      feed.innerHTML = '';
      mensagens.slice().reverse().forEach(texto => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerText = texto;
        feed.appendChild(card);
      });
    }

    function postarMensagem() {
      const textarea = document.getElementById('mensagem');
      const texto = textarea.value.trim();
      if (!texto) return;

      let mensagens = carregarMensagens();
      mensagens.push(texto);
      salvarMensagens(mensagens);

      renderizarFeed(mensagens);

      textarea.value = '';

      mostrarNotificacao('Postagem bem-sucedida!');
    }

    // Ao carregar a página, renderiza as mensagens salvas
    document.addEventListener('DOMContentLoaded', function() {
      renderizarFeed(carregarMensagens());
    });
  </script>
</body>
</html>